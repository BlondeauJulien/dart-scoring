(this["webpackJsonpdart-scoring"]=this["webpackJsonpdart-scoring"]||[]).push([[0],Array(21).concat([function(e,a,t){e.exports=t.p+"static/media/spinner.078aa3f0.gif"},function(e,a,t){e.exports=t.p+"static/media/dartboard.41b0b1f4.png"},function(e,a,t){e.exports=t(54)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(13),l=t.n(c),o=(t(28),t(8)),m=t(10),s=(t(29),function(e){return n.a.createElement("header",{className:"main-header"},e.children)}),u=(t(30),function(){return n.a.createElement("ul",{className:"nav-links"},n.a.createElement("li",null,n.a.createElement(o.c,{to:"/stats"}," STATS")),n.a.createElement("li",null,n.a.createElement(o.c,{to:"/about"}," ABOUT ")))}),i=(t(36),function(){return n.a.createElement(s,null,n.a.createElement("h1",{className:"main-navigation__title"},n.a.createElement(o.b,{to:"/"},"DARTS 501 SCORING")),n.a.createElement("nav",null,n.a.createElement(u,null)))}),T=t(4),h=t(3),d=t(1),y=t(2),p=(t(37),function(e){var a;return"input"===e.element&&(a=n.a.createElement("input",{id:e.id,type:e.type,className:e.classNameInput,name:e.name,value:e.value,placeholder:e.placeholder,checked:e.checked,onChange:e.onChange,minLength:e.minLength,maxLength:e.maxLength,required:e.required})),"select"===e.element&&(a=n.a.createElement("div",{className:"select-input-cont"},n.a.createElement("select",{name:e.name,value:e.value,onChange:e.onChange,className:"select-input",required:!0},e.children))),n.a.createElement(r.Fragment,null,n.a.createElement("label",{htmlFor:e.htmlFor,className:e.classNameLabel},e.label),a)}),D={gameTypeValues:[101,301,501,701,1001],setOptionsValues:Array.from(Array(11),(function(e,a){return a+1})),legOptionsValues:Array.from(Array(11),(function(e,a){return a+1})),numberOfPlayers:Array.from(Array(4),(function(e,a){return a+1}))},E=(t(38),function(e){var a=e.title;return n.a.createElement("div",{className:"page-error"},n.a.createElement("h2",{className:"page-error__title"},a),n.a.createElement("div",{className:"page-error__btn-cont"},e.children))}),b=(t(39),function(e){var a;e.isForm&&(a=n.a.createElement("form",{onSubmit:e.onSubmit},n.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),n.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer))),e.isDiv&&(a=n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),n.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));var t=n.a.createElement("div",{className:"modal__background",onClick:e.onClickModalBackground},n.a.createElement("div",{className:"modal ".concat(e.className),style:e.style,onClick:function(e){e.stopPropagation()}},n.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},n.a.createElement("h2",null,e.header)),a));return l.a.createPortal(t,document.getElementById("modal-hook"))}),f=(t(40),t(21)),g=t.n(f),S=function(e){return n.a.createElement("div",{className:e.spinnerContClassName},n.a.createElement("img",{src:g.a,className:e.spinnerImgClassName,alt:"loading"}))},O={matchModel:{gameIsRunning:!1,gameType:void 0,isSoloGame:void 0,hasWinner:!1,sets:void 0,legs:void 0,players:[],startingPlayerLeg:0,startingPlayerSet:0,currentPlayerTurn:0,currentThrow:["","",""],currentLegThrows:[],allLegsThrows:[],matchPlayerInfo:{}},playerMatchModel:{hasWonMatch:!1,score:null,setWon:0,currentSetLegWon:0,totalThrow:{darts:0,rounds:0},totalThrowEndGame:{darts:0,rounds:0},totalThrowBegMidGame:{darts:0,rounds:0},bestThreeDarts:0,hit:{},scoreRanges:{},averages:{overall:0,begMidGame:0,endGame:0},doubleOut:{},checkoutScores:{}},playerModel:{name:"",nbrOfMatches:0,matchesWon:0,soloGames:0,totalThrow:{darts:0,rounds:0},totalThrowEndGame:{darts:0,rounds:0},totalThrowBegMidGame:{darts:0,rounds:0},bestThreeDarts:0,hit:{},scoreRanges:{},averages:{overall:0,begMidGame:0,endGame:0},doubleOut:{},checkoutScores:{},matches:[]}},_=function(){return JSON.parse(localStorage.getItem("darts501scoring"))},v=function(e){return localStorage.setItem("darts501scoring",JSON.stringify(e))},N={createPlayer:function(e){var a=_();a[e]=O.playerModel,a[e].name=e,v(a)},updatePlayer:function(e,a){var t=_();t[e]=a,v(t)},getAllPlayersName:function(){var e;e="darts501scoring",localStorage.getItem(e)||v({});var a=_();return Object.keys(a)},getSinglePlayerData:function(e){return _()[e]}},j=Object(r.createContext)(),P=(t(41),function(){var e=Object(m.f)(),a=Object(r.useContext)(j),t=D.gameTypeValues,c=D.setOptionsValues,l=D.legOptionsValues,s=D.numberOfPlayers,u=Object(r.useState)(!1),i=Object(y.a)(u,2),f=i[0],g=i[1],_=Object(r.useState)(""),v=Object(y.a)(_,2),P=v[0],w=v[1],I=Object(r.useState)(null),R=Object(y.a)(I,2),C=R[0],G=R[1],A=Object(r.useState)({gameType:501,sets:1,legs:1,numberOfPlayers:2,players:["",""]}),k=Object(y.a)(A,2),L=k[0],M=k[1];Object(r.useEffect)((function(){new Set(L.players).size===L.players.length&&G(null);var e=setTimeout((function(){G(null)}),1e4);return function(){clearTimeout(e)}}),[C,L.players]);var W=function(e){"numberOfPlayers"===e.target.name?M(Object(d.a)({},L,{numberOfPlayers:Number(e.target.value),players:Array(Number(e.target.value)).fill("")})):M(Object(d.a)({},L,Object(h.a)({},e.target.name,Number(e.target.value))))};return a.match.gameIsRunning&&!a.loading.initGameLoading?n.a.createElement(E,{title:"A game is running"},n.a.createElement(o.b,{to:"/game",className:"page-error__button"},"Go to the game"),n.a.createElement("button",{onClick:a.resetGame,type:"button",className:"page-error__button page-error__button-danger"},"Cancel the game")):a.loading.initGameLoading?n.a.createElement(S,{spinnerContClassName:"spinner-cont-large",spinnerImgClassName:"spinnerSmall"}):n.a.createElement(r.Fragment,null,f&&n.a.createElement(b,{isForm:!0,header:"Add a new player",onSubmit:function(e){e.preventDefault(),N.createPlayer(P),w("")},onClickModalBackground:function(){return g(!1)},contentClass:"modal__content-text-input-inline-cont",footer:n.a.createElement(r.Fragment,null,n.a.createElement("button",{className:"modal-btn",type:"submit"},"Create Player"),n.a.createElement("button",{className:"modal-btn",onClick:function(){return g(!1)}},"Go Back"))},n.a.createElement(p,{element:"input",type:"text",name:"newPlayerName",value:P,htmlFor:"newPlayerName",label:"Player Name:",onChange:function(e){return w(e.target.value)},minLength:2,maxLength:12,required:!0})),n.a.createElement("h2",{className:"start-game-title"},"START A NEW GAME"),n.a.createElement("form",{className:"start-game-form",onSubmit:function(t){if(t.preventDefault(),new Set(L.players).size!==L.players.length)G("Each player should be unique.");else{var r=Object(d.a)({},L);r.isSoloGame=1===Number(r.numberOfPlayers),r.gameIsRunning=!0,r.matchPlayerInfo={},r.players.forEach((function(e){var a=Object(d.a)({},O.playerMatchModel);a.score=Number(r.gameType),r.matchPlayerInfo[e]=a})),a.initNewGame(r),e.push("/game")}}},n.a.createElement("div",{className:"start-game-form__game-type-cont"},n.a.createElement("label",{className:"start-game-form__section-title"},"Game type"),n.a.createElement("div",{className:"start-game-form__game-type-cont__inputs-radio-cont"},t.map((function(e){return n.a.createElement(p,{key:"game-type-".concat(e),id:e,element:"input",type:"radio",name:"gameType",value:e,htmlFor:e,label:e,checked:Number(L.gameType)===Number(e),onChange:W,classNameLabel:"label-radio-clickable ".concat(Number(e)===L.gameType&&"label-radio-btn-selected"),classNameInput:"isHidden",required:!0})})))),n.a.createElement("div",{className:"start-game-form__sets-legs-cont"},n.a.createElement("div",{className:"start-game-form__sets-legs-cont__item-cont"},n.a.createElement(p,{element:"select",name:"sets",htmlFor:"set",label:"First to",value:L.sets,onChange:W},c.map((function(e){return n.a.createElement("option",{key:"set-option-".concat(e),value:e},e," set",e>1&&"s")}))),n.a.createElement("p",null,"win the match")),n.a.createElement("div",{className:"start-game-form__sets-legs-cont__item-cont"},n.a.createElement(p,{element:"select",name:"legs",htmlFor:"leg",label:"First to",value:L.legs,onChange:W},l.map((function(e){return n.a.createElement("option",{key:"leg-option-".concat(e),value:e},e," leg",e>1&&"s")}))),n.a.createElement("p",null,"win the set"))),n.a.createElement("div",null,n.a.createElement("label",{className:"start-game-form__section-title"},"Number of players"),n.a.createElement("div",{className:"start-game-form__game-type-cont__inputs-radio-cont"},s.map((function(e){return n.a.createElement(p,{key:"player-nbr-".concat(e),id:e,element:"input",type:"radio",name:"numberOfPlayers",value:e,htmlFor:e,label:1===e?"Solo":e,checked:Number(L.numberOfPlayers)===Number(e),onChange:W,classNameLabel:"label-radio-clickable ".concat(Number(e)===L.numberOfPlayers&&"label-radio-btn-selected"),classNameInput:"isHidden",required:!0})})))),n.a.createElement("div",{className:"start-game-form__select-player-cont"},n.a.createElement("label",{className:"start-game-form__section-title"},"Who is playing?"),L.players.map((function(e,a){return n.a.createElement("div",{key:"player-".concat(a+1),className:"start-game-form__select-player-cont__element-cont"},n.a.createElement(p,{element:"select",name:"players-names",htmlFor:"playersNames",label:"Player ".concat(a+1,":"),value:L.players[a],onChange:function(e){return function(e,a){var t=Object(T.a)(L.players).map((function(t,r){return r===a?e:t}));M(Object(d.a)({},L,{players:t}))}(e.target.value,a)}},n.a.createElement("option",{value:""},"Pick Player ",a+1),N.getAllPlayersName().map((function(e){return n.a.createElement("option",{key:"player-name-".concat(e),value:e},e)}))))}))),n.a.createElement("div",{className:"start-game-form__add-new-player-cont"},n.a.createElement("h3",{className:"start-game-form__section-title"},"New Player or not in the list?"),n.a.createElement("button",{className:"start-game-form__btn btn-add-player",type:"button",onClick:function(){return g(!0)}},"Create a new player")),C&&n.a.createElement("div",{className:"start-game-form__error-cont"},n.a.createElement("p",null,C)),n.a.createElement("button",{type:"submit",className:"start-game-form__btn"},"START")))}),w={170:["T20-T20-D25"],169:["---No checkout---","Suggestion:","T19-T20-S12 leaves 40","T19-T19-S19 leaves 36"],168:["---No checkout---","Suggestion:","T20-T20 leaves 48, then pick S8 or S16"],167:["T20-T19-D25","note:","S20-T20-T17 leaves 36"],166:["---No checkout---","Suggestion:","T20-T20-S6 leaves 40","S20-T19-T19 leaves 32"],165:["---No checkout---","Suggestion:","T20-T19-S8 leaves 40","T20-S20-T15 leaves 40","T20-T20-S13 leaves 32"],164:["T19-T19-D25","T20-T18-D25","note:","T20-S19-T15 leaves 40"],163:["---No checkout---","Suggestion:","T20-T19-S6 leaves 40","T20-S20-T17 leaves 32"],162:["---No checkout---","Suggestion:","T20-T20-S10 leaves 32","S20-T20-T14 leaves 40"],161:["T20-T17-D25","T19-T18-D25","note:","S20-T20-T19 leaves 24"],160:["T20-T20-D20"],159:["---No checkout---","Suggestion:","T19-T20-S10 leaves 32"],158:["T20-T20-D19","T18-T18-D25"],157:["T20-T19-D20"],156:["T20-T20-D18"],155:["T20-T19-D19"],154:["T19-T19-D20","T20-T18-D20","T20-T20-D17"],153:["T20-T19-D18"],152:["T20-T20-D16"],151:["T20-T17-D20","T19-T18-D20"],150:["T19-T19-D18","T20-T18-D18","T20-T20-D15"],149:["T20-T19-D16"],148:["T20-T20-D14","T20-T16-D20","T18-T18-D20","T19-T17-D20"],147:["T20-T17-D18","T19-T18-D18"],146:["T19-T19-D16","T20-T18-D16"],145:["T20-T15-D20","T20-T19-D14"],144:["T20-T20-D12","T18-T18-D18"],143:["T20-T17-D16","T19-T18-D16"],142:["T20-T14-D20","T19-T15-D20","T17-T17-D20"],141:["T20-T19-D12","T20-T15-D18","T19-T16-D18","T17-T18-D18"],140:["T20-T20-D10","T20-D20-D20","T18-T18-D16"],139:["T19-T14-D20","T20-T13-D20","T19-D25-D16"],138:["T20-T18-D12","T19-T19-D12","T19-T15-D18"],137:["T20-T19-D10","T20-T15-D16"],136:["T20-T16-D14","T20-T20-D8","T20-D18-D20"],135:["D25-T15-D20","T20-T17-D12"],134:["T20-T14-D16","T17-T17-D16","T20-T16-D13"],133:["T20-T19-D8","T20-T15-D14"],132:["T20-T16-D12","D25-T14-D20","S25-T19-D25","D25-D25-D16"],131:["T19-T14-D16","T20-T13-D16","T17-D20-D20"],130:["T20-T20-D5","T20-S20-D25"],129:["T19-T16-D12","T19-T12-D18","T20-T19-D6","T20-S19-D25"],128:["T18-T14-D16","T18-T18-D10","T20-S18-D25"],127:["T20-T17-D8","T19-S20-D25","T20-S17-D25"],126:["T19-T19-D6","T19-S19-D25"],125:["T20-S25-D20","T18-T13-D16","T15-D20-D20","D25-S25-D25"],124:["T20-D16-D16","T20-T14-D11","S20-T18-D25"],123:["T19-T16-D9","S19-T18-D25"],122:["T18-T18-D7","D25-T16-D12","S18-T18-D25"],121:["T20-T11-D14","T17-T20-D5","S20-T17-D25","S17-T18-D25"],120:["T20-S20-D20","S20-D25-D25"],119:["T19-T12-D13"],118:["T20-S18-D20","T17-T17-D8","S17-T17-D25"],117:["T20-S17-D20","T19-S20-D20"],116:["T19-S20-D20","T20-S16-D20","S20-T20-D18"],115:["T19-S18-D20","20-S15-D20","S20-T19-D19"],114:["T20-S14-D20","T19-S17-D20"],113:["T19-S16-D20","T20-S13-D20"],112:["T20-S12-D20","T20-S20-D16","T19-S19-D18","T18-S18-D20"],111:["T19-S14-D20","T20-S11-D20","S20-T17-D20"],110:["T20-D25","T20-S10-D20","T20-S18-D16"],109:["T20-S9-D20","T20-S17-D16"],108:["T20-S8-D20","T20-S16-D16","T19-S19-D16","T18-S14-D20","T18-S18-D18","T17-S17-D20"],107:["T19-D25","T20-S6-D20","T20-S10-D18"],106:["T20-S6-D20","T20-S10-D18"],105:["T19-S8-D20","T19-S16-D16","T20-S13-D16","T20-S5-D20"],104:["T18-D25","T16-S16-D20","T19-S15-D16","T18-S10-D20"],103:["T19-S6-D20","T19-S10-D18","T17-S12-D20"],102:["T16-S14-D20","T20-S10-D16","T20-S6-D18"],101:["T17-D25","T20-S9-D16","T20-S1-D20","T19-S12-D16"],100:["T20-D20"],99:["T19-S10-D16","T17-S16-D16"],98:["T20-D19"],97:["T19-D20"],96:["T20-D18"],95:["T19-D19"],94:["T18-D20"],93:["T19-D18"],92:["T20-D16"],91:["T17-D20"],90:["T20-D15","T18-D18"],89:["T19-D16"],88:["T20-D14","T16-D20"],87:["T17-D18"],86:["T18-D16"],85:["T15-D20","T19-D14"],84:["T20-D12","T16-D18"],83:["T17-D16"],82:["T14-D20","D25-D16"],81:["T19-D12","T15-D18"],80:["T20-D10","D20-D20"],79:["T19-D11","T13-D20"],78:["T18-D12"],77:["T19-D10","T15-D16"],76:["T16-D14","T20-D8","D18-D20"],75:["T17-D12","T13-D18","S25-D25"],74:["T14-D16","T16-D13","T18-D10"],73:["T19-D8","T15-D14","T11-D20"],72:["T16-D12","T12-D18","T20-D6"],71:["T13-D16","T17-D10","T19-D7","T13-D16"],70:["T18-D8","T10-D20","T20-D5","S20-D25"],69:["T15-D12","T19-D6","S19-D25"],68:["T12-D16","T16-D10","T20-D4","T18-D7"],67:["T9-D20","T17-D8"],66:["T10-D18","T18-D6","T14-D12","T16-D9"],65:["T11-D16","T15-D10","T19-D4","S25-D20"],64:["T16-D8","T8-D20","S16-S16-D16","D16-D16"],63:["T13-D12","T17-D6"],62:["T10-D16","T14-D10","T18-D4"],61:["S25-D18","T7-D20","T15-D8","T11-D14"],60:["S20-D20"],59:["S19-D20"],58:["S18-D20"],57:["S17-D20"],56:["S16-D20","T16-D4"],55:["S15-D20"],54:["S14-D20"],53:["S13-D20","S17-D18"],52:["S12-D20","S20-D16","T12-D8"],51:["S11-D20","S19-D16","S15-D18"],50:["D25","S10-D20","S18-D16","T10-D10"],49:["S9-D20","S17-D16"],48:["S8-D20","S16-D16"],47:["S15-D16","S7-D20"],46:["S6-D20","S14-D16","S10-D18"],45:["S13-D16","S5-D20"],44:["S12-D16","S4-D20"],43:["S11-D16","S3-D20"],42:["S10-D16","S6-D18"],41:["S9-D16","S1-D20"],40:["D20"],39:["S7-D16","S19-D10"],38:["D19"],37:["S5-D16"],36:["D18"],35:["S3-D16"],34:["D17"],33:["S1-D16","S17-D8"],32:["S16"],31:["S15-D8","S7-D12"],30:["D15"],29:["S13-D8","S5-D12"],28:["D14"],27:["S19-D4","S7-D10","S9-D8"],26:["D13"],25:["S9-D8"],24:["D12"],23:["S7-D8"],22:["D11"],21:["S13-D4","S5-D8"],20:["D10"],19:["S11-D4","S3-D8"],18:["D9"],17:["S9-D4","S1-D8"],16:["D8"],15:["S7-D4"],14:["D7"],13:["S5-D4"],12:["D6"],11:["S3-D4"],10:["D5"],9:["S1-D4"],8:["D4"],7:["S3-D2"],6:["D3"],5:["S1-D2"],4:["D2"],3:["S1-D1"],2:["D1"]},I=(t(42),function(e){var a=e.score,t=Object(r.useState)(!1),c=Object(y.a)(t,2),l=c[0],o=c[1],m=l?n.a.createElement("i",{class:"fas fa-caret-up"}):n.a.createElement("i",{class:"fas fa-caret-down"});return n.a.createElement("div",{className:"checkout-cont"},n.a.createElement("p",{className:"checkout-cont__title",onClick:function(){return o(!l)}},m," Checkout ",m),l&&n.a.createElement("ul",{className:"checkout__list"},w[a].map((function(e){return n.a.createElement("li",null,e)}))))}),R=(t(43),function(e){var a=e.playerName,t=e.infos,r=t.score,c=t.setWon,l=t.averages,o=t.currentSetLegWon,m=t.bestThreeDarts;return n.a.createElement("div",{className:"game__player-item"},n.a.createElement("div",{className:"game__player-item__infos"},n.a.createElement("h3",{className:"game__player-item__name"},a),n.a.createElement("p",{className:"game__player-item__score"},r)),w[r]&&n.a.createElement(I,{score:r}),n.a.createElement("div",null,n.a.createElement("table",{className:"game__player-item__stats-table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Set:"),n.a.createElement("td",null,c)),n.a.createElement("tr",null,n.a.createElement("th",null,"Leg:"),n.a.createElement("td",null,o)),n.a.createElement("tr",null,n.a.createElement("th",null,"Average:"),n.a.createElement("td",null,Math.round(l.overall))),n.a.createElement("tr",null,n.a.createElement("th",null,"Best:"),n.a.createElement("td",null,m))))))}),C=(t(44),function(e){var a=Object(r.useContext)(j).match;return n.a.createElement("div",null,Object.entries(a.matchPlayerInfo).map((function(e){var a=Object(y.a)(e,2),t=a[0],r=a[1];return n.a.createElement(R,{key:"player-item-".concat(t),playerName:t,infos:r})})))}),G=(t(45),function(e){var a=e.averages,t=e.bestThreeDarts,r=e.classNamePage;return n.a.createElement("div",null,n.a.createElement("h3",{className:"stats__averages-cont-title-".concat(r)},"Averages and best"),n.a.createElement("div",{className:"stats__averages-cont-".concat(r)},n.a.createElement("div",null,n.a.createElement("p",null,"Overall average"),n.a.createElement("p",{className:"match-number-infos-cont__data"},Math.round(a.overall))),n.a.createElement("div",null,n.a.createElement("p",null,"Beg/Mid game average"),n.a.createElement("p",{className:"match-number-infos-cont__data"},Math.round(a.begMidGame))),n.a.createElement("div",null,n.a.createElement("p",null,"End game average"),n.a.createElement("p",{className:"match-number-infos-cont__data"},Math.round(a.endGame))),n.a.createElement("div",null,n.a.createElement("p",null,"Best three darts score"),n.a.createElement("p",{className:"match-number-infos-cont__data"},t))))}),A=(t(46),function(e){var a=e.title,t=e.object,r=e.isDoubleOut,c=e.totalThrow,l=e.displayPercentage;return r?n.a.createElement("div",{className:"stats-object-cont"},n.a.createElement("h3",{className:"stats-object-cont__title"},a),Object.entries(t).map((function(e){var a=Object(y.a)(e,2),r=a[0],c=a[1];return n.a.createElement("div",{key:"stat-".concat(t,"-").concat(r),className:"stats-object-cont__data-cont"},n.a.createElement("p",null,"D",r,":"),n.a.createElement("p",null,c.hit," /",c.total," (",Math.round(100*c.hit/c.total),"%)"))}))):n.a.createElement("div",{className:"stats-object-cont"},n.a.createElement("h3",{className:"stats-object-cont__title"},a),Object.entries(t).map((function(e){var a=Object(y.a)(e,2),r=a[0],o=a[1];return n.a.createElement("div",{key:"stat-".concat(t,"-").concat(r),className:"stats-object-cont__data-cont"},n.a.createElement("p",null,r,":"),n.a.createElement("p",null,o," ",l?"(".concat(Math.round(100*o/c),"%)"):"time".concat(o>1?"s":"")))})))}),k=(t(47),function(e){var a=e.currentPlayerInfos,t=a.averages,r=a.bestThreeDarts,c=a.scoreRanges,l=a.doubleOut,o=a.checkoutScores;return n.a.createElement("div",{className:"game__current-player-stats"},n.a.createElement("h2",null,e.playerName," stats"),n.a.createElement(G,{averages:t,bestThreeDarts:r,statBlockClassName:"inline",classNamePage:"current-player-stats"}),Object.keys(c).length>0&&n.a.createElement(A,{title:"Score ranges:",object:c}),Object.keys(l).length>0&&n.a.createElement(A,{title:"Double Out success rate:",object:l,isDoubleOut:!0}),Object.keys(o).length>0&&n.a.createElement(A,{title:"Successful checkout score:",object:o}))}),L=N.getSinglePlayerData,M=function(e,a,t){var r=Object(d.a)({},e),n=Object(d.a)({},a);return Object.keys(r[t]).forEach((function(e){n[t].hasOwnProperty(e)?n[t][e]+=r[t][e]:n[t][e]=r[t][e]})),n[t]},W=function(e,a,t,r){return 0===r?e:(console.log("start"),console.log("currentAvg: "+e),console.log("currentTotalThrow: "+a),console.log("matchAvg: "+t),console.log("totalMatchThrow: "+r),(e*a+t*r)/(a+r))},U=function(e,a){var t=new Date;e.players.forEach((function(r){var n=Object(d.a)({},e.matchPlayerInfo[r]),c=L(r);n.date=t,n.players=e.players,n.playerWinner=a,n.gameType=e.gameType,n.matchLegsInfos=e.allLegsThrows,c.matches.push(n),c.nbrOfMatches++,r===a&&e.players.length>1&&c.matchesWon++,1===e.players.length&&c.soloGames++,c.averages.overall=W(c.averages.overall,c.totalThrow.rounds,n.averages.overall,n.totalThrow.rounds),c.averages.begMidGame=W(c.averages.begMidGame,c.totalThrowBegMidGame.rounds,n.averages.begMidGame,n.totalThrowBegMidGame.rounds),c.averages.endGame=W(c.averages.endGame,c.totalThrowEndGame.rounds,n.averages.endGame,n.totalThrowEndGame.rounds),c.totalThrow.darts+=n.totalThrow.darts,c.totalThrow.rounds+=n.totalThrow.rounds,c.totalThrowEndGame.darts+=n.totalThrowEndGame.darts,c.totalThrowEndGame.rounds+=n.totalThrowEndGame.rounds,c.totalThrowBegMidGame.darts+=n.totalThrowBegMidGame.darts,c.totalThrowBegMidGame.rounds+=n.totalThrowBegMidGame.rounds,c.bestThreeDarts=Math.max(c.bestThreeDarts,n.bestThreeDarts),c.doubleOut=M(n,c,"doubleOut"),c.hit=M(n,c,"hit"),c.scoreRanges=M(n,c,"scoreRanges"),c.checkoutScores=M(n,c,"checkoutScores"),N.updatePlayer(r,c)}))},H=(t(48),function(){var e=Object(r.useContext)(j),a=e.match,t=e.updateCurrentThrowManual,c=e.onClickValidateThrow,l=e.getCurrentThrowScore,o=e.loading,m=e.error,s=e.resetError,u=Object(r.useState)(a.matchPlayerInfo[a.players[a.currentPlayerTurn]].score),i=Object(y.a)(u,2),T=i[0],h=i[1],d=Object(r.useState)(!1),D=Object(y.a)(d,2),E=D[0],f=D[1];Object(r.useEffect)((function(){var e=l(),t=a.players[a.currentPlayerTurn],r=a.matchPlayerInfo[t].score;h(r-e)}),[a.currentThrow]),Object(r.useEffect)((function(){var e=a.players[a.currentPlayerTurn];a.hasWinner&&U(a,e)}),[a.hasWinner]),Object(r.useEffect)((function(){setTimeout((function(){s()}),12e3)}),[m]);var g=function(e){var r=Number(e.target.name.split("-")[1])-1;if(r>0)for(var n=0;n<r;n++)if(""===a.currentThrow[n])return;t(e.target.value,r)};return n.a.createElement(r.Fragment,null,E&&n.a.createElement(b,{isDiv:!0,contentClass:"modal__game-infos-text",header:"How to manually add a dart score?",footer:n.a.createElement(r.Fragment,null,n.a.createElement("button",{className:"modal-btn",onClick:function(){return f(!1)}},"GOT IT"))},n.a.createElement("p",null,"If you missed, simply enter 0."),n.a.createElement("p",null,"For any other scores add:"),n.a.createElement("p",null,'"S" (for a single), "D" (for a double)',n.a.createElement("br",null),'or "T" (for a treble) before your score.',n.a.createElement("br",null),'So "D10" scores 20 points, "T20" scores 60 ...'),n.a.createElement("p",null,"Note that:"),n.a.createElement("p",null,'The inner BULLSEYE (50 points) = "D25"',n.a.createElement("br",null),'and the outer BULLSEYE (25 points) = "S25".')),n.a.createElement("div",null,a.hasWinner&&n.a.createElement("p",{className:"game__victory-message"},a.players[a.currentPlayerTurn],n.a.createElement("br",null),"WIN",n.a.createElement("br",null),"THE",n.a.createElement("br",null),"GAME"),!a.hasWinner&&n.a.createElement("div",{className:"game__current-player"},n.a.createElement("div",{className:"game__current-player-info-cont"},n.a.createElement("h2",null,"It's your Turn"),n.a.createElement("h3",{className:"game__current-player-info-cont__name"},a.players[a.currentPlayerTurn]),n.a.createElement("p",{className:"game__current-player-info-cont__score"},1===T||T<0?"BUST":T),w[T]&&n.a.createElement(I,{score:T})),n.a.createElement("div",null,n.a.createElement("form",{className:"game__current-player__form",onSubmit:function(e){e.preventDefault(),c(T)}},n.a.createElement("h2",null,"Click on the dartboard ",n.a.createElement("br",null),"or",n.a.createElement("br",null),"enter your score manualy"," ",n.a.createElement("i",{onClick:function(){return f(!0)},className:"far fa-question-circle",style:{cursor:"pointer"}})),n.a.createElement("div",{className:"game__current-player__form__input-cont"},n.a.createElement(p,{element:"input",type:"text",name:"dart-1",htmlFor:"dart-1",label:"Dart 1",value:a.currentThrow[0],placeholder:"Enter score",onChange:g})),n.a.createElement("div",{className:"game__current-player__form__input-cont"},(1!==T&&T>0||""!==a.currentThrow[1].trim()||""===a.currentThrow[1].trim()&&""!==a.currentThrow[2].trim())&&n.a.createElement(p,{element:"input",type:"text",name:"dart-2",htmlFor:"dart-2",label:"Dart 2",value:a.currentThrow[1],placeholder:"Enter score",onChange:g})),n.a.createElement("div",{className:"game__current-player__form__input-cont"},(1!==T&&T>0||""!==a.currentThrow[2].trim())&&n.a.createElement(p,{element:"input",type:"text",name:"dart-3",htmlFor:"dart-3",label:"Dart 3",value:a.currentThrow[2],placeholder:"Enter score",onChange:g})),o.validateThrow?n.a.createElement(S,{spinnerContClassName:"spinner-cont-large",spinnerImgClassName:"spinnerSmall"}):n.a.createElement("button",{type:"submit"},"Validate"),m&&"throw-validation"===m.errorFor&&n.a.createElement("p",{className:"game__throw-validaion-error"},m.message)))),n.a.createElement("div",null,n.a.createElement(k,{currentPlayerInfos:a.matchPlayerInfo[a.players[a.currentPlayerTurn]],playerName:a.players[a.currentPlayerTurn]}))))}),F=(t(49),t(22)),B=t.n(F),x={D20:[354,104,400,100,445,104,442,121,400,118,357,121],D1:[448,105,490,114,537,133,528,150,481,130,445,122],D18:[537,133,577,157,612,189,599,202,563,171,528,150],D4:[612,189,643,224,667,265,651,273,628,234,599,202],D13:[667,265,684,305,696,354,679,357,666,309,651,273],D6:[696,354,700,405,697,447,679,445,681,399,679,357],D10:[697,447,686,490,667,536,651,527,667,486,679,445],D15:[667,536,642,577,611,612,599,599,631,560,651,527],D2:[611,612,575,644,535,667,528,650,568,624,599,599],D17:[535,667,492,685,447,695,443,678,485,668,528,650],D3:[447,695,398,699,353,695,356,678,400,680,443,678],D19:[353,695,303,684,263,667,271,651,310,666,356,678],D7:[263,667,220,640,187,613,200,600,230,623,271,651],D16:[187,613,156,576,131,537,149,528,169,561,200,600],D8:[131,537,112,490,102,447,121,444,131,484,149,528],D11:[102,447,94,400,102,353,121,356,117,400,121,444],D14:[102,353,114,304,130,264,147,273,130,317,121,356],D9:[130,264,152,226,187,188,200,201,170,236,147,273],D12:[187,188,222,159,263,132,272,150,234,173,200,201],D5:[263,132,307,115,352,104,356,122,316,131,272,150],T20:[371,215,398,212,429,215,427,233,400,231,374,232],T1:[429,215,457,221,486,233,478,250,451,239,427,233],T18:[486,233,512,248,533,268,520,281,499,264,478,250],T4:[533,268,553,291,567,317,552,325,537,300,520,281],T13:[567,317,580,341,586,372,568,374,560,349,552,325],T6:[586,372,588,401,586,431,569,428,569,401,568,374],T10:[586,431,580,457,568,486,552,478,561,454,569,428],T15:[568,486,552,511,533,534,519,521,539,500,552,478],T2:[533,534,510,553,485,567,477,552,500,538,519,521],T17:[485,567,456,580,429,586,426,568,449,563,477,552],T3:[429,586,400,589,371,586,373,568,400,570,426,568],T19:[371,586,337,577,313,567,322,551,346,561,373,568],T7:[313,567,286,550,266,534,279,520,297,536,322,551],T16:[266,534,246,507,231,485,247,477,259,498,279,520],T8:[231,485,219,457,213,430,232,427,238,452,247,477],T11:[213,430,210,399,213,370,232,373,229,399,232,427],T14:[213,370,220,339,231,315,248,324,238,349,232,373],T9:[231,315,248,289,267,267,280,280,261,300,248,324],T12:[267,267,287,248,314,233,323,249,300,262,280,280],T5:[314,233,344,222,371,215,374,232,346,239,323,249]},Y={S20:[354,104,400,100,445,104,404,369,395,369],S1:[448,105,490,114,537,133,414,372,404,369],S18:[537,133,577,157,612,189,422,377,414,372],S4:[612,189,643,224,667,265,430,386,422,377],S13:[667,265,684,305,696,354,433,395,430,386],S6:[696,354,700,405,697,447,433,406,433,395],S10:[697,447,686,490,667,536,430,416,433,406],S15:[667,536,642,577,611,612,423,424,430,416],S2:[611,612,575,644,535,667,415,429,423,424],S17:[535,667,492,685,447,695,405,433,415,423],S3:[447,695,398,699,353,695,396,433,405,433],S19:[353,695,303,684,263,667,386,429,396,433],S7:[263,667,220,640,187,613,379,424,386,429],S16:[187,613,156,576,131,537,372,415,379,424],S8:[131,537,112,490,102,447,369,406,372,415],S11:[102,447,94,400,102,353,370,396,369,406],S14:[102,353,114,304,130,264,371,388,370,396],S9:[130,264,152,226,187,188,378,379,371,388],S12:[187,188,222,159,263,132,385,374,378,379],S5:[263,132,307,115,352,104,395,369,385,374]},V=[400,400,400],q=[400,400,14],J=[400,400,28],z=function(){var e=Object(r.useContext)(j),a=e.match,t=e.updateCurrentThrowDartBoard,c=e.throwError,l=e.getCurrentThrowScore,o=Object(r.useState)({height:window.innerHeight,width:window.innerWidth}),m=Object(y.a)(o,2),s=m[0],u=m[1],i=Object(r.useState)({D25:Object(T.a)(q),S25:Object(T.a)(J)}),h=Object(y.a)(i,2),p=h[0],D=h[1],E=Object(r.useState)(Object(T.a)(V)),b=Object(y.a)(E,2),f=b[0],g=b[1],S=Object(r.useState)(Object(d.a)({},x)),O=Object(y.a)(S,2),_=O[0],v=O[1],N=Object(r.useState)(Object(d.a)({},Y)),P=Object(y.a)(N,2),w=P[0],I=P[1];Object(r.useEffect)((function(){var e=function(){return u({height:window.innerHeight,width:window.innerWidth})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(r.useEffect)((function(){var e=document.querySelector("#dart-board-img"),a=document.querySelector("#dart-board-cont");if(s.height>=919&&a.clientWidth>=850)D({D25:Object(T.a)(q),S25:Object(T.a)(J)}),g(Object(T.a)(V)),v(Object(d.a)({},x)),I(Object(d.a)({},Y));else{var t=window.innerHeight-119;a.clientWidth<t&&(t=a.clientWidth-50),e.style.height=t.toString()+"px",e.style.width=t.toString()+"px";var r=t/800,n=Object(T.a)(V).map((function(e){return e*r})),c={D25:Object(T.a)(q).map((function(e){return e*r})),S25:Object(T.a)(J).map((function(e){return e*r}))},l=Object(d.a)({},x),o=Object(d.a)({},Y),m=Object.keys(l),u=Object.keys(o);m.forEach((function(e){var a=l[e].map((function(e){return e*r}));l[e]=a})),u.forEach((function(e){var a=o[e].map((function(e){return e*r}));o[e]=a})),g(n),D(c),v(l),I(o)}}),[s]);var R=function(e){var r=l(),n=a.players[a.currentPlayerTurn];a.matchPlayerInfo[n].score-r<=1?c("You can't throw any more dart","throw-validation"):t(e.target.id)};return n.a.createElement("div",{id:"dart-board-cont"},n.a.createElement("img",{id:"dart-board-img",src:B.a,alt:"dart board",useMap:"#dartboard"}),n.a.createElement("map",{name:"dartboard"},n.a.createElement("area",{id:"D25",shape:"circle",coords:p.D25,onClick:R,alt:"D25"}),n.a.createElement("area",{id:"S25",shape:"circle",coords:p.S25,onClick:R,alt:"S25"}),Object.entries(_).map((function(e){var a=Object(y.a)(e,2),t=a[0],r=a[1];return n.a.createElement("area",{key:t,id:t,shape:"poly",coords:r.join(),onClick:R,alt:t})})),Object.entries(w).map((function(e){var a=Object(y.a)(e,2),t=a[0],r=a[1];return n.a.createElement("area",{key:t,id:t,shape:"poly",coords:r.join(),onClick:R,alt:t})})),n.a.createElement("area",{id:"0",shape:"circle",coords:f,onClick:R,alt:"0"})))},K=(t(50),function(e){var a=e.nbrOfMatches,t=e.matchesWon,r=e.soloGames;return n.a.createElement("div",{className:"match-number-infos-cont"},n.a.createElement("div",null,n.a.createElement("p",null,"Matches played"),n.a.createElement("p",{className:"match-number-infos-cont__data"},a)),n.a.createElement("div",null,n.a.createElement("p",null,"Matches won"),n.a.createElement("p",{className:"match-number-infos-cont__data"},t)),n.a.createElement("div",null,n.a.createElement("p",null,"Solo game"),n.a.createElement("p",{className:"match-number-infos-cont__data"},r)))}),Z=(t(51),function(e){var a=e.playerStats,t=a.name,c=a.nbrOfMatches,l=a.matchesWon,o=a.soloGames,m=a.averages,s=a.bestThreeDarts,u=a.scoreRanges,i=a.hit,T=a.doubleOut,h=a.checkoutScores,d=a.totalThrow,y=e.playerName,p=e.isMatchStats,D=e.isStatsPage,E=e.classNameFor;return n.a.createElement("div",{className:"stats__stats-cont__".concat(E)},D&&n.a.createElement(r.Fragment,null,n.a.createElement("h2",{className:"statscont__player-name"},t),n.a.createElement(K,{nbrOfMatches:c,matchesWon:l,soloGames:o})),p&&n.a.createElement("h2",{className:"statscont__player-name"},y),n.a.createElement(G,{averages:m,bestThreeDarts:s,classNamePage:"stats-page"}),n.a.createElement("div",{className:"stats__objects-stats-cont__".concat(E)},Object.keys(u).length>0&&n.a.createElement(A,{title:"Score ranges:",object:u,totalThrow:d.rounds,displayPercentage:!0}),Object.keys(T).length>0&&n.a.createElement(A,{title:"Double Out success rate:",object:T,isDoubleOut:!0}),Object.keys(h).length>0&&n.a.createElement(A,{title:"Checkout scores cleared:",object:h}),Object.keys(i).length>0&&n.a.createElement(A,{title:"Sections hit:",object:i,totalThrow:d.darts,displayPercentage:!0})))}),$=(t(52),function(){var e=Object(r.useContext)(j);return e.loading.initGameLoading?n.a.createElement(S,{spinnerContClassName:"spinner-cont-large",spinnerImgClassName:"spinnerSmall"}):e.match.gameIsRunning?n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"game-container"},n.a.createElement(z,null),n.a.createElement(H,null),n.a.createElement(C,null)),n.a.createElement("div",{className:"game-stats-container"},n.a.createElement("h3",null,"STATS"),n.a.createElement("div",{className:"game__stats-cont"},e.match.players.map((function(a){return n.a.createElement(Z,{playerStats:e.match.matchPlayerInfo[a],playerName:a,classNameFor:"player-match-stats",isMatchStats:!0})}))))):n.a.createElement(E,{title:"You need to initialise a new game"},n.a.createElement(o.b,{to:"/",className:"page-error__button"},"Set up a new game"))}),Q=(t(53),function(){var e=N.getAllPlayersName,a=N.getSinglePlayerData,t=Object(r.useState)({playerName:void 0}),c=Object(y.a)(t,2),l=c[0],o=c[1],m=Object(r.useState)(void 0),s=Object(y.a)(m,2),u=s[0],i=s[1],T=Object(r.useState)([]),D=Object(y.a)(T,2),E=D[0],b=D[1],f=Object(r.useState)(!0),g=Object(y.a)(f,2),O=g[0],_=g[1];if(Object(r.useEffect)((function(){b(e())}),[]),Object(r.useEffect)((function(){E&&(_(!1),o(Object(d.a)({},l,{playerName:E[0]?E[0]:void 0})))}),[E]),O)return n.a.createElement(S,{spinnerContClassName:"spinner-cont-large",spinnerImgClassName:"spinnerSmall"});return n.a.createElement("div",{className:"stats-page-cont"},E&&E.length?n.a.createElement("div",null,n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(a(l.playerName))},className:"stats-page-cont__form"},n.a.createElement(p,{element:"select",name:"playerName",htmlFor:"playerName",label:"Pick a player:",value:l.playerName,onChange:function(e){o(Object(d.a)({},l,Object(h.a)({},e.target.name,e.target.value)))}},E.map((function(e){return n.a.createElement("option",{key:"player-name-stat-".concat(e),value:e},e)}))),n.a.createElement("button",{type:"submit",className:"btn-stat-player"},"See Stats"))):n.a.createElement("h2",null,"You do not have any saved player. Create one play a game and come back after."),u&&n.a.createElement(Z,{playerStats:u,classNameFor:"stats-page",isStatsPage:!0}))}),X=function(e,a){switch(a.type){case"INIT_NEW_GAME":case"RESET_GAME":return Object(d.a)({},e,{match:Object(d.a)({},a.payload)});case"UPDATE_CURRENT_THROW":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{currentThrow:a.payload})});case"PUSH_TO_CURRENT_LEG_THROWS":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{currentLegThrows:[].concat(Object(T.a)(e.match.currentLegThrows),[a.payload])})});case"RESET_CURRENT_THROW":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{currentThrow:["","",""]})});case"SAVE_CURRENT_LEG_THROWS":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{allLegsThrows:[].concat(Object(T.a)(e.match.allLegsThrows),[a.payload])})});case"RESET_CURRENT_LEG_THROWS":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{currentLegThrows:[]})});case"UPDATE_PLAYER_SCORE":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{score:a.payload.score})))})});case"RESET_SCORES":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload,Object(d.a)({},e.match.matchPlayerInfo[a.payload],{score:e.match.gameType})))})});case"UPDATE_AVERAGES":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{averages:Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName].averages,Object(h.a)({overall:a.payload.newOverallAverage},a.payload.gamePeriod,a.payload.newGamePeriodAvg))})))})});case"INCREMENT_TOTAL_THROW":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],Object(h.a)({totalThrow:Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName].totalThrow,{darts:e.match.matchPlayerInfo[a.payload.playerName].totalThrow.darts+a.payload.dartNumber,rounds:e.match.matchPlayerInfo[a.payload.playerName].totalThrow.rounds+1})},a.payload.gamePeriod,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName][a.payload.gamePeriod],{darts:e.match.matchPlayerInfo[a.payload.playerName][a.payload.gamePeriod].darts+a.payload.dartNumber,rounds:e.match.matchPlayerInfo[a.payload.playerName][a.payload.gamePeriod].rounds+1})))))})});case"UPDATE_BEST_THREE_DARTS":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{bestThreeDarts:a.payload.score})))})});case"UPDATE_CHECKOUT_SCORE":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{checkoutScores:a.payload.checkoutScores})))})});case"UPDATE_SECTION_HIT":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{hit:a.payload.hit})))})});case"UPDATE_SCORE_RANGES":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{scoreRanges:a.payload.scoreRanges})))})});case"UPDATE_DOUBLE_OUT":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{doubleOut:a.payload.doubleOut})))})});case"INCREMENT_LEG_WON":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{currentSetLegWon:e.match.matchPlayerInfo[a.payload.playerName].currentSetLegWon+1})))})});case"INCREMENT_SET_WON":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload.playerName,Object(d.a)({},e.match.matchPlayerInfo[a.payload.playerName],{setWon:e.match.matchPlayerInfo[a.payload.playerName].setWon+1})))})});case"RESET_PLAYER_LEG":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload,Object(d.a)({},e.match.matchPlayerInfo[a.payload],{currentSetLegWon:0})))})});case"CHANGE_CURRENT_PLAYER":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{currentPlayerTurn:a.payload})});case"CHANGE_STARTING_PLAYER_SET":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{currentPlayerTurn:a.payload,startingPlayerLeg:a.payload,startingPlayerSet:a.payload})});case"CHANGE_STARTING_PLAYER_LEG":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{currentPlayerTurn:a.payload,startingPlayerLeg:a.payload})});case"GAME_HAS_WINNER":return Object(d.a)({},e,{match:Object(d.a)({},e.match,{hasWinner:!0,matchPlayerInfo:Object(d.a)({},e.match.matchPlayerInfo,Object(h.a)({},a.payload,Object(d.a)({},e.match.matchPlayerInfo[a.payload],{hasWonMatch:!0})))})});case"SET_LOADING":return Object(d.a)({},e,{loading:Object(d.a)({},e.loading,Object(h.a)({},a.payload.eventName,a.payload.setTo))});case"THROW_ERROR":return Object(d.a)({},e,{error:{message:a.payload.message,errorFor:a.payload.errorFor}});case"RESET_ERROR":return Object(d.a)({},e,{error:null});default:return Object(d.a)({},e)}},ee=function(e){var a={match:Object(d.a)({},O.matchModel),loading:{initGameLoading:!1,validateThrow:!1},error:null},t=Object(r.useReducer)(X,a),c=Object(y.a)(t,2),l=c[0],o=c[1],m=function(e){g(),v(),I(),S(e)},s=function(){g(!0),v(),I(!0)},u=function(e){if(0===Number(e)||""===e)return!0;if(/^[SDT]\d{1,2}$/i.test(e)){var a=Number(e.slice(1));if(a>=1&&a<=20||/[SD]25/i.test(e))return!0}return!1},i=function(e,a){var t=e.filter((function(e){return""===e.trim()}));return!(a>1&&t.length||""===e[0]||""===e[1]&&""!==e[2])||(H("You need add a value for each dart","throw-validation"),!1)},h=function(){var e=l.match.currentThrow;return""===e[2].trim()&&""===e[1].trim()?!!/^d/i.test(e[0]):""===e[2].trim()?!!/^d/i.test(e[1]):!!/^d/i.test(e[2])},p=function(){return Object(T.a)(l.match.currentThrow).reduce((function(e,a){if(!u(a))return e+0;if(0===Number(a)||""===a)return e+0;var t=Number(a.slice(1));return t>=1&&t<=20||/[SD]25/i.test(a)?(/t/i.test(a[0])&&(t*=3),/d/i.test(a[0])&&(t*=2),e+t):e+0}),0)},D=function(){var e=l.match.players[l.match.currentPlayerTurn];o({type:"PUSH_TO_CURRENT_LEG_THROWS",payload:{playerName:e,darts:l.match.currentThrow.filter((function(e){return""!==e.trim()}))}})},E=function(e){console.log(e),o({type:"SAVE_CURRENT_LEG_THROWS",payload:e})},b=function(){return o({type:"RESET_CURRENT_THROW"})},f=function(){return o({type:"RESET_CURRENT_LEG_THROWS"})},g=function(){var e,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=l.match.players[l.match.currentPlayerTurn],r=l.match.matchPlayerInfo[t].totalThrow.rounds,n=l.match.matchPlayerInfo[t].averages.overall,c=a?0:p(),m=(n*r+c)/(r+1),s=l.match.matchPlayerInfo[t].score>140?"begMidGame":"endGame";if("begMidGame"===s){var u=l.match.matchPlayerInfo[t].totalThrowBegMidGame.rounds,i=l.match.matchPlayerInfo[t].averages.begMidGame;e=(i*u+c)/(u+1)}else{var T=l.match.matchPlayerInfo[t].totalThrowEndGame.rounds,h=l.match.matchPlayerInfo[t].averages.endGame;e=(h*T+c)/(T+1)}o({type:"UPDATE_AVERAGES",payload:{playerName:t,newOverallAverage:m,gamePeriod:s,newGamePeriodAvg:e}})},S=function(e){var a=l.match.players[l.match.currentPlayerTurn];o({type:"UPDATE_PLAYER_SCORE",payload:{playerName:a,score:e}})},_=function(){l.match.players.forEach((function(e){o({type:"RESET_SCORES",payload:e})}))},v=function(){var e=l.match.players[l.match.currentPlayerTurn],a=l.match.currentThrow.filter((function(e){return""!==e.trim()})).length,t=l.match.matchPlayerInfo[e].score>140?"totalThrowBegMidGame":"totalThrowEndGame";o({type:"INCREMENT_TOTAL_THROW",payload:{playerName:e,dartNumber:a,gamePeriod:t}})},N=function(){var e=p(),a=l.match.players[l.match.currentPlayerTurn];e>l.match.matchPlayerInfo[a].bestThreeDarts&&o({type:"UPDATE_BEST_THREE_DARTS",payload:{playerName:a,score:e}})},P=function(){var e=p(),a=l.match.players[l.match.currentPlayerTurn],t=Object(d.a)({},l.match.matchPlayerInfo[a].checkoutScores);t.hasOwnProperty(e)?t[e]++:t[e]=1,o({type:"UPDATE_CHECKOUT_SCORE",payload:{playerName:a,checkoutScores:t}})},w=function(){var e=l.match.players[l.match.currentPlayerTurn],a=Object(d.a)({},l.match.matchPlayerInfo[e].hit);l.match.currentThrow.forEach((function(e){""!==e.trim()&&(0===Number(e)?a.hasOwnProperty("Missed")?a.Missed++:a.Missed=1:a.hasOwnProperty(e.toUpperCase())?a[e.toUpperCase()]++:a[e.toUpperCase()]=1)})),o({type:"UPDATE_SECTION_HIT",payload:{playerName:e,hit:a}})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=l.match.players[l.match.currentPlayerTurn],t=p(),r=Object(d.a)({},l.match.matchPlayerInfo[a].scoreRanges);function n(e){r.hasOwnProperty(e)?r[e]++:r[e]=1}n(e?"Busted":0===t?"ZERO":t<20?"1-19":t<40?"20-39":t<60?"40-59":t<80?"60-79":t<100?"80-99":t<120?"100-119":t<140?"120-139":t<160?"140-159":t<180?"160-179":"180"),o({type:"UPDATE_SCORE_RANGES",payload:{playerName:a,scoreRanges:r}})},R=function(){var e=l.match.players[l.match.currentPlayerTurn],a=Object(T.a)(l.match.currentThrow).filter((function(e){return""!==e.trim()})),t=Object(d.a)({},l.match.matchPlayerInfo[e].doubleOut),r=l.match.matchPlayerInfo[e].score-0;a.forEach((function(e){var a;if(0===Number(e))a=0;else{var n=Number(e.slice(1));/t/i.test(e[0])&&(n*=3),/d/i.test(e[0])&&(n*=2),a=n}if((r<=40&&r>=2||50===r)&&r%2===0){var c=r/2,l=r-a===0&&/d/i.test(e[0]);t.hasOwnProperty(c)?(t[c].total++,!l&&t[c].miss++,l&&t[c].hit++):t[c]={total:1,miss:l?0:1,hit:l?1:0}}r-=a})),o({type:"UPDATE_DOUBLE_OUT",payload:{playerName:e,doubleOut:t}})},C=function(){var e=l.match.players[l.match.currentPlayerTurn];o({type:"INCREMENT_LEG_WON",payload:{playerName:e}})},G=function(){var e=l.match.players[l.match.currentPlayerTurn];o({type:"INCREMENT_SET_WON",payload:{playerName:e}})},A=function(){l.match.players.forEach((function(e){o({type:"RESET_PLAYER_LEG",payload:e})}))},k=function(){var e=l.match.players[l.match.currentPlayerTurn];return l.match.matchPlayerInfo[e].currentSetLegWon+1===l.match.legs},L=function(){var e=l.match.players[l.match.currentPlayerTurn];return l.match.matchPlayerInfo[e].setWon+1===l.match.sets},M=function(e,a){var t=l.match.currentPlayerTurn,r=l.match.startingPlayerLeg,n=l.match.startingPlayerSet,c=l.match.numberOfPlayers;if(e){if(a){o({type:"CHANGE_STARTING_PLAYER_SET",payload:n+1>=c?0:n+1})}else if(e){o({type:"CHANGE_STARTING_PLAYER_LEG",payload:r+1>=c?0:r+1})}}else o({type:"CHANGE_CURRENT_PLAYER",payload:t+1>=c?0:t+1})},W=function(){var e=l.match.players[l.match.currentPlayerTurn];o({type:"GAME_HAS_WINNER",payload:e})},U=function(e,a){return o({type:"SET_LOADING",payload:{eventName:e,setTo:a}})},H=function(e,a){o({type:"THROW_ERROR",payload:{message:e,errorFor:a}})};return n.a.createElement(j.Provider,{value:{match:l.match,loading:l.loading,error:l.error,initNewGame:function(e){U("initGameLoading",!0);var a=Object(d.a)({},l.match,{},e);o({type:"INIT_NEW_GAME",payload:a}),U("initGameLoading",!1)},resetGame:function(){return o({type:"RESET_GAME",payload:Object(d.a)({},O.matchModel)})},onClickValidateThrow:function(e){U("validateThrow",!0);for(var a=Object(T.a)(l.match.currentThrow),t=[].concat(Object(T.a)(l.match.currentLegThrows),[{darts:a,playerName:l.match.players[l.match.currentPlayerTurn]}]),r=!1,n=!1,c=!1,o=0;o<a.length;o++)if(!u(a[o]))return H("One or more of your dart has an invalid value","throw-validation"),void U("validateThrow",!1);if(i(a,e)){if(1===e||e<0)s();else if(0===e){h()?(E(t),P(),m(e),(n=k())?(c=L(),G(),A()):C(),console.log(c),r=!0,f()):s()}else m(e);if(N(),w(),R(),!r&&D(),b(),r&&_(),c)return W(),void U("validateThrow",!1);M(r,n),U("validateThrow",!1)}else U("validateThrow",!1)},updateCurrentThrowManual:function(e,a){var t=l.match.currentThrow.map((function(t,r){return r===a&&(t=e),t}));o({type:"UPDATE_CURRENT_THROW",payload:t})},updateCurrentThrowDartBoard:function(e){for(var a=Object(T.a)(l.match.currentThrow),t=0;t<a.length;t++)if(""===a[t]){a[t]=e;break}o({type:"UPDATE_CURRENT_THROW",payload:a})},validateDartValue:u,getCurrentThrowScore:p,throwError:H,resetError:function(){return o({type:"RESET_ERROR"})}}},e.children)};var ae=function(){return Object(r.useEffect)((function(){localStorage.getItem("darts501scoring")||localStorage.setItem("darts501scoring",JSON.stringify({}))}),[]),n.a.createElement(ee,null,n.a.createElement(o.a,null,n.a.createElement(i,null),n.a.createElement("main",null,n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",exact:!0},n.a.createElement(P,null)),n.a.createElement(m.a,{path:"/game",exact:!0},n.a.createElement($,null)),n.a.createElement(m.a,{path:"/stats",exact:!0},n.a.createElement(Q,null))))))};l.a.render(n.a.createElement(ae,null),document.getElementById("root"))}]),[[23,1,2]]]);
//# sourceMappingURL=main.1d7b23e1.chunk.js.map